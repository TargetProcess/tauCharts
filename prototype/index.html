<!DOCTYPE html>
<html>
<meta charset="utf-8">
<head>
    <script src="http://d3js.org/d3.v3.js"></script>

    <!-- src -->
    <script src="../src/class.js"></script>
    <script src="../src/tau.data.js"></script>
    <script src="../src/tau.charts.js"></script>
    <script src="../src/tau.plugins.js"></script>

    <!-- plugins -->
    <script src="../plugins/tooltip.js"></script>
    <script src="../plugins/legend.js"></script>
    <script src="../plugins/highlighter.js"></script>

    <!-- css -->
    <link href="../css/default.css" rel="stylesheet" />
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:400italic,600italic,400,600&subset=latin,cyrillic-ext' rel='stylesheet' type='text/css">
</head>
<body>
    <svg id="chart" width="500" height="500">
    </svg>
    <script>
        var data = tau.data.Array([
        {
            "duration": 20,
            "effort": 10,
            "timeSpent": 14,
            "priority": "High"
        },
        {
            "duration": 29,
            "effort": 23,
            "timeSpent": 13,
            "priority": "Low"
        },
        {
            "duration": 26,
            "effort": 3,
            "timeSpent": 13,
            "priority": "High"
        },
        {
            "duration": 12,
            "effort": 11,
            "timeSpent": 11,
            "priority": "Urgent"
        },
        {
            "duration": 19,
            "effort": 18,
            "timeSpent": 14,
            "priority": "Urgent"
        },
        {
            "duration": 29,
            "effort": 27,
            "timeSpent": 11,
            "priority": "Urgent"
        },
        {
            "duration": 21,
            "effort": 30,
            "timeSpent": 14,
            "priority": "Low"
        },
        {
            "duration": 2,
            "effort": 5,
            "timeSpent": 6,
            "priority": "Low"
        },
        {
            "duration": 27,
            "effort": 24,
            "timeSpent": 10,
            "priority": "Urgent"
        },
        {
            "duration": 10,
            "effort": 1,
            "timeSpent": 10,
            "priority": "Low"
        },
        {
            "duration": 23,
            "effort": 18,
            "timeSpent": 8,
            "priority": "Urgent"
        },
        {
            "duration": 17,
            "effort": 4,
            "timeSpent": 6,
            "priority": "Urgent"
        },
        {
            "duration": 23,
            "effort": 12,
            "timeSpent": 8,
            "priority": "High"
        },
        {
            "duration": 24,
            "effort": 1,
            "timeSpent": 9,
            "priority": "Urgent"
        },
        {
            "duration": 12,
            "effort": 9,
            "timeSpent": 10,
            "priority": "High"
        },
        {
            "duration": 16,
            "effort": 25,
            "timeSpent": 15,
            "priority": "High"
        },
        {
            "duration": 9,
            "effort": 25,
            "timeSpent": 7,
            "priority": "Urgent"
        },
        {
            "duration": 18,
            "effort": 16,
            "timeSpent": 8,
            "priority": "Urgent"
        },
        {
            "duration": 25,
            "effort": 19,
            "timeSpent": 14,
            "priority": "Low"
        },
        {
            "duration": 3,
            "effort": 7,
            "timeSpent": 11,
            "priority": "Urgent"
        },
        {
            "duration": 9,
            "effort": 27,
            "timeSpent": 10,
            "priority": "Urgent"
        },
        {
            "duration": 23,
            "effort": 2,
            "timeSpent": 9,
            "priority": "Urgent"
        },
        {
            "duration": 20,
            "effort": 11,
            "timeSpent": 11,
            "priority": "Low"
        },
        {
            "duration": 11,
            "effort": 11,
            "timeSpent": 13,
            "priority": "Urgent"
        },
        {
            "duration": 24,
            "effort": 17,
            "timeSpent": 10,
            "priority": "Urgent"
        },
        {
            "duration": 12,
            "effort": 16,
            "timeSpent": 7,
            "priority": "Urgent"
        },
        {
            "duration": 19,
            "effort": 28,
            "timeSpent": 10,
            "priority": "Urgent"
        },
        {
            "duration": 24,
            "effort": 4,
            "timeSpent": 7,
            "priority": "Urgent"
        },
        {
            "duration": 20,
            "effort": 2,
            "timeSpent": 12,
            "priority": "Urgent"
        },
        {
            "duration": 12,
            "effort": 19,
            "timeSpent": 5,
            "priority": "Urgent"
        },
        {
            "duration": 8,
            "effort": 17,
            "timeSpent": 15,
            "priority": "Urgent"
        },
        {
            "duration": 8,
            "effort": 7,
            "timeSpent": 11,
            "priority": "Low"
        },
        {
            "duration": 19,
            "effort": 28,
            "timeSpent": 13,
            "priority": "Low"
        },
        {
            "duration": 17,
            "effort": 13,
            "timeSpent": 9,
            "priority": "Low"
        },
        {
            "duration": 2,
            "effort": 17,
            "timeSpent": 11,
            "priority": "Low"
        },
        {
            "duration": 27,
            "effort": 13,
            "timeSpent": 15,
            "priority": "High"
        },
        {
            "duration": 13,
            "effort": 13,
            "timeSpent": 7,
            "priority": "Urgent"
        },
        {
            "duration": 24,
            "effort": 24,
            "timeSpent": 9,
            "priority": "High"
        },
        {
            "duration": 5,
            "effort": 6,
            "timeSpent": 10,
            "priority": "Low"
        },
        {
            "duration": 1,
            "effort": 18,
            "timeSpent": 10,
            "priority": "Urgent"
        }
        ]);

        tau.charts
                .Scatterplot(data)
                .map({
                    x: tau.data.map('duration').linear(),
                    y: tau.data.map('effort').caption("Effort, h").linear(),
                    size: 'timeSpent',
                    color: tau.data.map('priority').category10()
                })
                .plugins(
                    tau.plugins.legend(), 
                    tau.plugins.tooltip('effort', 'priority'),
                    tau.plugins.highlighter()
                )
                .render("#chart");
    </script>
</body>
</html>