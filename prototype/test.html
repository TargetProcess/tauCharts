<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.7.0/underscore-min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.4.11/d3.js"></script>

    <!-- src -->
    <script src="../src/class.js"></script>
    <script src="../src/tau.data.js"></script>
    <script src="../src/tau.data.types.js"></script>
    <script src="../src/tau.svg.js"></script>
    <script src="../src/tau.charts.js"></script>
    <script src="../src/charts/line.js"></script>
    <script src="../src/charts/scatterplot.js"></script>
    <script src="../src/charts/bar.js"></script>
    <script src="../src/tau.plugins.js"></script>

    <!-- plugins -->
    <script src="../plugins/tooltip.js"></script>
    <script src="../plugins/legend.js"></script>
    <script src="../plugins/highlighter.js"></script>
    <script src="../plugins/projection.js"></script>
    <script src="../plugins/datatable.js"></script>
    <script src="../plugins/header.js"></script>
    <script src="../plugins/trend.js"></script>
    <script src="../plugins/jittering.js"></script>

    <!-- test data -->
    <script src="data.js"></script>

    <script src="countries.js"></script>
    <script src="tpStories.js"></script>

    <script src="../libs/traceur.js"></script>
    <script src="../libs/es6-module-loader.js"></script>
    <!-- css -->
    <link href="../css/default.css" rel="stylesheet"/>
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:400italic,600italic,400,600&subset=latin,cyrillic-ext' rel='stylesheet' type='text/css">
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,700&subset=latin,cyrillic-ext' rel='stylesheet'
          type='text/css'>
    <style>
        .axes.nest .axis.nest text {
            font-size: 10px;
        }

        .tau-chart {
            width: 1000px;
            height: 800px;
        }
    </style>
    <title></title>
</head>
<body>
<div id="chart-container" class="tau-chart" style="display:inline-block;margin:0px;border: solid 1px;"></div>
<script>
    System.baseURL = '/tauCharts/src/';
    System.import('tau.newCharts').then(function (m) {
        var rawData = _(getUserStories()).map(function (r) {
            r.cycleTime = r.name.length;
            return r;
        });

        var chart = new m.tauChart.Scatterplot({
            container: '#chart-container',
            width: 1000,
            height: 800,
            data: [
                {team: 'd', cycleTime: 1, effort: 1, priority: 'low'},
                {team: 'd', cycleTime: 3, effort: 6, priority: 'low'},
                {team: 'd', cycleTime: 4, effort: 7, priority: 'medium'},
                {team: 'k', cycleTime: 5, effort: 8, priority: 'medium'},
                {team: 'd', cycleTime: 2, effort: 2.5, priority: 'high'},
                {team: 'l', cycleTime: 2.2, effort: 4, priority: 'high'}

            ],
            plugins: [tau.plugins.tooltip('team', 'effort', 'team'), tau.plugins.highlighter()],
            x: 'cycleTime',
            y: 'effort',
            color: 'team',
            size: 'effort'
        });
    })
</script>
</body>
</html>