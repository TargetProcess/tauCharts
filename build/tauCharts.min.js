/*! tauCharts - v0.0.1 - 2014-09-23
* https://github.com/TargetProcess/tauCharts
* Copyright (c) 2014 Taucraft Limited; Licensed MIT */
!function(a){var b=a();"function"==typeof define&&define.amd?define(["tauCharts"],b):"object"==typeof module&&module.exports?module.exports=b:this.tauChart=b}(function(){"use strict";var a={},b=function(){};return function(a,b){b.new=function(a,b){function c(){return a.apply(this,b)}return c.prototype=a.prototype,new c},b.extend=function c(a){function b(){!e&&this.init&&this.init.apply(this,arguments)}var d=this.prototype,e=!0,f=new this;e=!1;for(var g in a)f[g]="function"==typeof a[g]&&"function"==typeof d[g]?function(a,b){return function(){var c=this._super;this._super=d[a];var e=b.apply(this,arguments);return this._super=c,e}}(g,a[g]):a[g];return b.prototype=f,b.prototype.constructor=b,b.extend=c,b}}(a,b),function(a,b){var c=b.extend({init:function(a){this._plugins=a},_call:function(a,b){for(var c=0;c<this._plugins.length;c++)"function"==typeof this._plugins[c][a]&&this._plugins[c][a].apply(this._plugins[c],b)},render:function(){this._call("render",arguments)},click:function(){this._call("click",arguments)},mouseover:function(){this._call("mouseover",arguments)},mouseout:function(){this._call("mouseout",arguments)},mousemove:function(){this._call("mousemove",arguments)}}),d=b.extend({init:function(a){this._dataSource=a},map:function(b){return this._mapper=(new a.data.MapperBuilder).config(b).build(this._meta),this},plugins:function(){return this._plugins=new c(arguments),this},render:function(){throw new Error("Not implemented")}}),e={padding:10},f=b.extend({init:function(a){this._mapper=a},render:function(){}}),g=f.extend({render:function(a){var b=d3.svg.axis().scale(this._mapper._scale).orient("bottom");this._mapper.format()&&b.tickFormat(this._mapper.format()),a.svg.append("g").attr("class","x axis").attr("transform","translate(0, "+e.padding+")").call(b).append("text").attr("class","label").attr("x",a.svg.layout("width")).attr("y",-b.tickSize()).style("text-anchor","end").text(this._mapper.caption()),a.html.append("div").attr("class","x axis").html(this._mapper.caption())}}),h=f.extend({render:function(a){var b=d3.svg.axis().scale(this._mapper._scale).orient("left");this._mapper.format()&&b.tickFormat(this._mapper.format()),a.svg.append("g").attr("class","y axis").attr("transform","translate(-"+e.padding+", 0)").call(b).append("text").attr("class","label").attr("transform","rotate(-90)").attr("x",b.tickSize()).attr("y",b.tickSize()+a.svg.layout("width")).attr("dy",".71em").style("text-anchor","end").text(this._mapper.caption()),a.svg.selectAll(".tick line").attr("x1",a.svg.layout("width")-6).attr("x2",a.svg.layout("width")),a.svg.selectAll(".tick text").attr("dx",a.svg.layout("width")),a.svg.select(".domain").attr("transform","translate("+a.svg.layout("width")+", 0)"),a.html.append("div").attr("class","y axis").html(this._mapper.caption())}}),i=b.extend({init:function(a,b){this._mapperX=a,this._mapperY=b},render:function(a){var b=d3.svg.axis().scale(this._mapperX._scale).orient("bottom").tickSize(a.layout("height")),c=d3.svg.axis().scale(this._mapperY._scale).orient("left").tickSize(-a.layout("width")),d=a.insert("g",":first-child").attr("class","grid");d.append("g").call(b),d.append("g").call(c),d.selectAll("text").remove()}}),j={top:20,right:20,bottom:30,left:40},k='<div class="html html-left"></div><div class="html html-chart"></div><svg></svg><div class="html html-right"></div><div class="html html-above"></div><div class="html html-below"></div>',l=b.extend({init:function(b){var c=d3.select(b).classed("tau-chart",!0).html(k);this.html={left:c.select(".html-left"),right:c.select(".html-right"),above:c.select(".html-above"),below:c.select(".html-below")},this.svg=a.svg.paddedBox(c.select("svg"),j);var d=new a.svg.Layout(this.svg);d.row(-30),this.yAxis={svg:d.col(20),html:c.select(".html-chart")},this.data=d.col(),d.row(),d.col(20),this.xAxis={svg:d.col(),html:c.select(".html-chart")},this.width=this.data.layout("width"),this.height=this.data.layout("height")}}),m=function(a){return function(){this.on("click",function(b){a.click(new r(b),new p(d3.select(this)))}).on("mouseover",function(b){a.mouseover(new r(b),new p(d3.select(this)))}).on("mouseout",function(b){a.mouseout(new r(b),new p(d3.select(this)))}).on("mousemove",function(b){a.mousemove(new r(b),new p(d3.select(this)))})}},n=d.extend({init:function(a){this._super.call(this,a)},_renderData:function(){throw new Error("Not implemented")},_onScalesDomainsLayoutsConfigured:function(){},render:function(b){var c=new l(b),d=this._mapper.binder("x");d.range([0,c.width]);var e=this._mapper.binder("y");e.range([c.height,0]),this._dataSource.get(function(b){this._mapper.domain(b),this._onScalesDomainsLayoutsConfigured({x:d,y:e,layout:c.data,data:b});var f=function(a){this._renderData(c.data,a),c.data.selectAll(".i-role-datum").call(m(this._plugins))}.bind(this);f(b),this._dataSource.update(f),new h(this._mapper.binder("y")).render(c.yAxis),new g(this._mapper.binder("x")).render(c.xAxis),new i(this._mapper.binder("x"),this._mapper.binder("y")).render(c.data),a.svg.bringOnTop(c.data),this._plugins.render(new q(this._dataSource),new o(c,this._mapper))}.bind(this))}}),o=b.extend({init:function(a,b){this.svg=a.svg,this.html=a.html,this.mapper=b},elements:function(){return this.svg.selectAll(".i-role-datum")}}),p=b.extend({init:function(a){this.element=a}}),q=b.extend({init:function(a){this.data=a}}),r=b.extend({init:function(a){this.datum=a}});a.charts={Base:n,add:function(b,c){a.charts[b]=c}}}(a,b),function(a,b){var c=function(a,b,c){return a[b]=c,a},d=function(a,b){return c({},a,b)},e=function(){},f=function(a,b){return function(){a.apply(a,arguments),b.apply(b,arguments)}},g=b.extend({init:function(){this._observers={update:e}},get:function(){throw new Error("not implemented")},filter:function(){throw new Error("not implemented")},update:function(a){this._on("update",a)},_on:function(a,b){this._observers[a]=f(this._observers[a],b)},_trigger:function(a,b){this._observers[a](b)}}),h=g.extend({init:function(a){this._data=a,this._super()},get:function(a){a(this._predicate?this._data.filter(this._predicate):this._data)},filter:function(a){this._predicate=a,this._trigger("update",this._predicate?this._data.filter(this._predicate):this._data)}}),i=b.extend({init:function(a){this._propertyMappers=a},binder:function(a){return this._propertyMappers[a]},_getDomain:function(a){return this.binder(a).domain()},_setDomain:function(a){for(var b in this._propertyMappers)this._propertyMappers[b]._setDomain(a)},domain:function(a){return"string"==typeof a?this._getDomain(a):void this._setDomain(a)},_bind:function(a,b,c){var d=/%[^%]*%/g;return d.test(a)?function(e){return a.replace(d,function(a){var d=a.substr(1,a.length-2);return b.call(c,d,e)})}:function(d){return b.call(c,a,d)}},map:function(a){return this._bind(a,function(a,b){return this.binder(a).map(b)},this)},raw:function(a){return this._bind(a,function(a,b){return this.binder(a).raw(b)},this)},alias:function(a,b){this._propertyMappers[a].alias(b)}}),j=b.extend({init:function(a){this._names=[a],this._caption=a,this._scale=d3.scale.linear()},alias:function(a){this._names.push(a)},_getOwnProperty:function(a){return this._names.filter(function(b){return a.hasOwnProperty(b)})[0]},raw:function(a){return a[this._getOwnProperty(a)]},map:function(a){var b=this._getOwnProperty(a);return this._scale(b?a[b]:this._default)},domain:function(){return this._scale.domain().map(d.bind(null,this._names[0]))},range:function(){this._scale.range.apply(this._scale,arguments)},caption:function(){return this._caption},format:function(){return this._format}}),k=b.extend({init:function(a,b){this._name=a,this._dataType=b,this._scale=null},linear:function(){return this._scale=d3.scale.linear(),this},range:function(){return this._scale.range.apply(this._scale.range,arguments),this},time:function(){return this._scale=d3.time.scale(),this},format:function(a){return this._format=a||null,this},color10:function(){return this._scale=a.data.scale.color10(),this},caption:function(a){return this._caption=a,this},domain:function(){return this._scale.domain.apply(this._scale.domain,arguments),this},build:function(a){var b=new j(this._name);return b._scale=this._scale||a.type.defaultScale(),this._dataType=this._dataType||a.type,b._setDomain=this._dataType.setDomain.bind(b),b._default=a.default,b._caption=this._caption||this._name,b._format=this._format,b}}),l=b.extend({init:function(){},config:function(a){return this._config=a,this},build:function(a){var b={};for(var c in a){var d=this._config[c];"undefined"==typeof d&&(d=c),"string"==typeof d&&(d=new k(d)),b[c]=d.build(a[c])}return new i(b)}}),m=b.extend({color10:function(){return d3.scale.ordinal().range(["color10-1","color10-2","color10-3","color10-4","color10-5","color10-6","color10-7","color10-8","color10-9","color10-10"])}});a.data={Array:function(a){return new h(a)},MapperBuilder:l,map:function(a,b){return new k(a,b)},scale:new m,identity:function(a){return a}}}(a,b),function(a,b){var c=function(){throw new Error("Not implemented")},d=b.extend({defaultScale:c,setDomain:c}),e=d.extend({defaultScale:function(){return d3.scale.linear()},setDomain:function(a){var b=a.length&&this._getOwnProperty(a[0]);return b?void(this._scale=this._scale.domain([0,d3.max(a,this.raw.bind(this))])):void(this._scale=this._scale.domain([0,this._default]))}}),f=d.extend({defaultScale:function(){return d3.scale.time()},setDomain:function(a){var b=a.length&&this._getOwnProperty(a[0]);return b?void(this._scale=this._scale.domain([d3.min(a,function(a){return a[b]}),d3.max(a,function(a){return a[b]})])):void(this._scale=this._scale.domain([0,this._default]))}}),g=d.extend({defaultScale:function(){return a.data.scale.color10()},setDomain:function(){}});a.data.types={quantitative:new e,categorical:new g,time:new f}}(a,b),function(a,b){var c=b.extend({init:function(){},render:function(){},click:function(){},mouseover:function(){},mouseout:function(){},mousemove:function(){}});a.plugins={add:function(d,e){e=c.extend(e),a.plugins[d]=function(){return b.new(e,arguments)}}}}(a,b),function(a,b){function c(a,b){return a>0?a:b+a}var d=b.extend({init:function(a,b){this._svg=a,b?(this._width=b.width,this._height=b.height):(this._width=a.layout("width"),this._height=a.layout("height")),this._x=0,this._y=0,this._translateX=0,this._translateY=0},_translate:function(a){(this._translateX||this._translateY)&&a.attr("transform","translate("+(this._translateX||0)+","+(this._translateY||0)+")")},_extend:function(a){var b={width:c(this._x-this._translateX,this._width),height:c(this._y-this._translateY,this._height)};a.layout=function(a){return b[a]}},row:function(a){this._translateX=0,this._translateY=this._y,this._y=a?this._y+c(a-this._y,this._height):null},col:function(a){return this._translateX=this._x,this._x=a?this._x+c(a-this._x,this._width):null,this._svg.append("g").call(this._translate.bind(this)).call(this._extend.bind(this))}}),e=function(a){a.node().parentNode.appendChild(a.node())},f=function(a,b){var c=a[b].baseVal;switch(c.unitType){case 1:return c.value;case 2:return(a.parentNode[b]||a.parentNode.getBoundingClientRect()[b])*c.valueInSpecifiedUnits/100;default:throw new Error("unitType "+c.unitType+" is not supported")}},g=function(a){return{width:f(a,"width"),height:f(a,"height")}},h=function(b,c){var d=new a.svg.Layout(b,g(b.node()));return d.row(c.top),d.row(-c.bottom),d.col(c.left),d.col(-c.right)};a.svg={getBBox:g,bringOnTop:e,paddedBox:h,Layout:d}}(a,b),function(a){var b=a.charts.Base.extend({_meta:{x:{type:a.data.types.quantitative},y:{type:a.data.types.quantitative},color:{type:a.data.types.categorical,"default":1}},map:function(a){return this._super(a),this._mapper.alias("color","key"),this},_onScalesDomainsLayoutsConfigured:function(a){var b=this._mapper,c=0;d3.nest().key(b.raw("x")).rollup(function(a){var d=d3.sum(a,b.raw("y"));d>c&&(c=d)}).entries(a.data),a.y._scale.domain([0,c])},_renderData:function(a,b){var c=this._mapper,d=d3.nest().key(c.raw("x")).entries(b),e=10,f=Math.round(a.layout("width")/(d.length||1));1>f&&(f=1),e>f&&(e=f);var g=d3.nest().key(c.raw("color")).entries(b),h=g.map(function(a){return a.values.map(function(b){return{x:c.raw("x")(b),y:c.raw("y")(b),color:a.key}})}),i=d3.layout.stack()(h),j=d3.merge(i),k=function(a){return c.binder(a)._scale},l=function(){return this.attr("class",function(a){return"bar i-role-datum "+k("color")(a.color)}).attr("x",function(a){return k("x")(a.x)-e/2}).attr("y",function(a){var b=k("y");return b(a.y+a.y0)}).attr("width",e).attr("height",function(b){var c=k("y");return a.layout("height")-c(b.y)})},m=a.selectAll(".bar").data(j);m.call(l),m.enter().append("rect").call(l),m.exit().remove()}});a.charts.add("Bar",function(a){return new b(a)})}(a),function(a){var b=a.charts.Base.extend({_meta:{x:{type:a.data.types.quantitative},y:{type:a.data.types.quantitative},color:{type:a.data.types.categorical,"default":1}},map:function(a){return this._super(a),this._mapper.alias("color","key"),this},_renderData:function(a,b){var c=this._mapper,d=d3.nest().key(c.raw("color")).entries(b),e=function(){this.attr("class",c.map("line %color%"));var a=this.selectAll("path").data(function(a){return[a.values]});a.call(g),a.enter().append("path").call(g),a.exit().remove();var b=this.selectAll(".dot").data(function(a){return a.values});b.call(h),b.enter().append("circle").attr("class","dot i-role-datum").call(h),b.exit().remove()},f=d3.svg.line().x(c.map("x")).y(c.map("y")),g=function(){this.attr("d",f)},h=function(){return this.attr("cx",c.map("x")).attr("cy",c.map("y")).attr("r",function(){return 3})},i=a.selectAll(".line").data(d);i.call(e),i.enter().append("g").call(e),i.exit().remove()}});a.charts.add("Line",function(a){return new b(a)})}(a),function(a){var b=a.charts.Base.extend({_meta:{x:{type:a.data.types.quantitative},y:{type:a.data.types.quantitative},color:{type:a.data.types.categorical,"default":1},size:{type:a.data.types.quantitative,"default":10}},_renderData:function(a,b){this._mapper.binder("size").range([0,a.layout("width")/100]);var c=this._mapper,d=function(){return this.attr("class",c.map("dot i-role-datum %color%")).attr("r",c.map("size")).attr("cx",c.map("x")).attr("cy",c.map("y"))},e=a.selectAll(".dot").data(b);e.call(d),e.enter().append("circle").call(d),e.exit().remove()}});a.charts.add("Scatterplot",function(a){return new b(a)})}(a),function(){var b={render:function(b,c){var d=c.html.right.append("div").attr("class","datatable");d.append("a").attr("href","#").html("Show data table").on("click",function(){f(),g(d),d3.event.preventDefault()});var e=d.append("div"),f=function(){var c=e.append("table"),d=c.append("thead"),g=c.append("tbody"),h=Object.keys(b.data._data[0]);c.attr("class",function(){return"col-"+h.length}),d.selectAll("th").data(h).enter().append("th").text(a.data.identity);var i=g.selectAll("tr").data(b.data._data).enter().append("tr");i.selectAll("td").data(function(a){return d3.values(a)}).enter().append("td").text(function(a){return a}),f=function(){}},g=function(a){"datatable"==a.attr("class")?a.attr("class","datatable show"):a.attr("class","datatable")}}};a.plugins.add("datatable",b)}(),function(){var b={init:function(){this._header=arguments[0],this._description=arguments[1]},render:function(a,b){var c=this._header,d=this._description,e=b.html.above.append("header").attr("class","title");e.append("h1").html(c),e.append("p").html(d)}};a.plugins.add("header",b)}(),function(){var b={mouseover:function(a,b){b.element.classed("highlighted",!0)},mouseout:function(a,b){b.element.classed("highlighted",!1)}};a.plugins.add("highlighter",b)}(),function(){var b={render:function(a,b){function c(a){p.each(d(a.alpha)),g.node().checked&&p.each(e(a.alpha)),p.attr("cx",function(a,b){return o[b].x=Math.max(0,Math.min(h,o[b].x))}).attr("cy",function(a,b){return o[b].y=Math.max(0,Math.min(i,o[b].y))})}function d(a){return function(b,c){o[c].x+=.1*(o[c].initialX-o[c].x)*a,o[c].y+=.1*(o[c].initialY-o[c].y)*a}}function e(a){var b=d3.geom.quadtree(o);return function(c,d){var e=o[d],f=e.radius+m+n,g=e.x-f,h=e.x+f,i=e.y-f,j=e.y+f;b.visit(function(b,c,d,f,k){if(b.point&&b.point!==e){var l=e.x-b.point.x,m=e.y-b.point.y,o=Math.sqrt(l*l+m*m),p=e.radius+b.point.radius+(e.color!==b.point.color)*n;p>o&&(o=(o-p)/o*a,e.x-=l*=o,e.y-=m*=o,b.point.x+=l,b.point.y+=m)}return c>h||g>f||d>j||i>k})}}var f=b.html.right.append("div").attr("class","jittering").append("label"),g=f.insert("input",":first-child").attr("type","checkbox").attr("id","applyjittering"),h=b.svg.layout("width"),i=b.svg.layout("height"),j=b.mapper.map("x"),k=b.mapper.map("y"),l=b.mapper.map("size"),m=(b.mapper.map("color"),5),n=1;f.append("span").text("Jittering");var o=a.data._data.map(function(a){return{initialX:j(a),initialY:k(a),x:j(a),y:k(a),radius:l(a)}}),p=b.elements(),q=d3.layout.force().nodes(o).size([h,i]).on("tick",c).charge(0).gravity(0).chargeDistance(500);d3.select("#applyjittering").on("change",function(){q.resume()}),q.start()}};a.plugins.add("jittering",b)}(),function(){function b(a){return function(b){return a!=b}}var c={render:function(a,c){var d=(c.svg.layout("width"),c.mapper.domain("color")),e=[],f=c.html.right.append("ul").attr("class","legend"),g=f.selectAll("li").data(d).enter().append("li");g.attr("class",c.mapper.map("color")).on("click",function(d){var f=c.mapper.raw("color")(d);-1==e.indexOf(f)?(e.push(f),d3.select(this).classed("disabled",!0)):(e=e.filter(b(f)),d3.select(this).classed("disabled",!1)),a.data.filter(function(a){return-1==e.indexOf(c.mapper.raw("color")(a))})}).on("mouseover",function(a){var b=c.mapper.raw("color")(a);c.elements().classed("highlighted",function(a){return c.mapper.raw("color")(a)===b})}).on("mouseout",function(){c.elements().classed("highlighted",!1)}),g.text(c.mapper.raw("color"))}};a.plugins.add("legend",c)}(),function(){var b={init:function(){this._axises=0===arguments.length?["x","y"]:Array.prototype.slice.call(arguments,0)},render:function(a,b){var c=20,d=30,e=10,f=(b.svg.layout("width"),b.svg.layout("height")),g=b.mapper,h=this._axises;b.svg.append("defs").html('<filter x="-20%" y="-20%" width="140%" height="140%" filterUnits="objectBoundingBox" id="outline"><feMorphology operator="dilate" in="SourceGraphic" result="Outline" radius="3"/><feColorMatrix result="Outline" in="Outline" type="matrix" values="0 0 0 0 1   0 0 0 0 1   0 0 0 0 1  0 0 0 0.95 0" /><feMerge><feMergeNode in="Outline"></feMergeNode><feMergeNode in="SourceGraphic"></feMergeNode></feMerge></filter>');var i=b;this.mouseover=function(a,b){var j=+b.element.attr("cy"),k=+b.element.attr("cx"),l=i.svg.selectAll(".projections").data([a.datum]).enter().append("g").attr("transform","translate("+c+", 0)").attr("class",g.map("color")).classed("projections",!0);h.indexOf("x")>-1&&(l.append("g").attr("class","y").append("line").attr("x1",g.map("x")).attr("y1",f-d+e).attr("x2",k).attr("y2",function(a){return j+g.map("size")(a)}),l.select(".y").append("text").attr("transform","translate(0, 18)").attr("filter","url(#outline)").attr("dx",g.map("x")).attr("dy",f-d+10).text(g.raw("x"))),h.indexOf("y")>-1&&(l.append("g").attr("class","x").append("line").attr("x1",-e).attr("y1",g.map("y")).attr("x2",function(a){return k-g.map("size")(a)}).attr("y2",j),l.select(".x").append("text").attr("transform","translate(-19, 4)").attr("filter","url(#outline)").attr("dx",0).attr("dy",g.map("y")).text(g.raw("y")))},this.mouseout=function(){b.svg.selectAll(".projections").remove()}},mouseover:function(){}};a.plugins.add("projection",b)}(),function(){var b={init:function(){this._dataFields=arguments,this._container=d3.select("body").append("div")},mouseover:function(a){for(var b="",c=this._dataFields.length-1;c>=0;c--){var d=this._dataFields[c];b+='<p class="tooltip-'+d+'"><em>'+d+":</em> "+a.datum[d]+"</p>"}this._container.classed("tooltip",!0).style("transform","translate("+(d3.mouse(this._container[0].parentNode)[0]+10)+"px, "+(d3.mouse(this._container[0].parentNode)[1]-10)+"px)").style("-webkit-transform","translate("+(d3.mouse(this._container[0].parentNode)[0]+10)+"px, "+(d3.mouse(this._container[0].parentNode)[1]-10)+"px)").style("display","block").html(b)},mousemove:function(){this._container.style("display","block")&&this._container.style("transform","translate("+(d3.mouse(this._container[0].parentNode)[0]+10)+"px, "+(d3.mouse(this._container[0].parentNode)[1]-10)+"px)").style("-webkit-transform","translate("+(d3.mouse(this._container[0].parentNode)[0]+10)+"px, "+(d3.mouse(this._container[0].parentNode)[1]-10)+"px)")},mouseout:function(){this._container.style("display","none")}};a.plugins.add("tooltip",b)}(),function(){function b(a,b,c){function d(a){var b=1-a*a*a;return b*b*b}var e=[],f=0,g=Math.floor(c*a.length)-1;for(var h in a){var i=a[h];h>0&&g<a.length-1&&a[g+1]-a[h]<a[h]-a[f]&&(f++,g++);var j;j=a[h]-a[f]>a[g]-a[h]?f:g;for(var k=Math.abs(1/(a[j]-i)),l=0,m=0,n=0,o=0,p=0,q=f;g>=q;){var r,s=a[q],t=b[q];r=h>q?i-s:s-i;var u=d(r*k),v=s*u;l+=u,m+=v,n+=s*v,o+=t*u,p+=t*v,q++}var w,x=m/l,y=o/l,z=p/l,A=n/l;w=A==x*x?0:(z-x*y)/(A-x*x);var B=y-w*x;e[h]=w*i+B}return e}var c={init:function(){},render:function(a,c){var d=c.mapper;d.alias("color","key");var e=d3.nest().key(d.raw("color")).entries(a.data._data),f=d3.svg.line().interpolate("basis").y(function(a){return a[1]}).x(function(a){return a[0]}),g=c.svg.selectAll(".category").data(e).enter().append("g").attr("transform","translate(20, 0)").attr("class","trend-category");g.append("path").attr("class",function(a){return"line trend-line "+d.map("color")(a)}).attr("d",function(a){for(var c={x:[],y:[]},e=function(a,b){var e=d.map(a)(b);c[a].push(Math.round(e))},g=0;g<a.values.length;g++)e("x",a.values[g]),e("y",a.values[g]);return c.x.length<4?void 0:f(d3.zip(c.x,b(c.x,c.y,.5)))})}};a.plugins.add("trend",c)}(),a});